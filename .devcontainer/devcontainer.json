{
    "name": "Python 3.12 Dev Container with Terraform",
    "image": "mcr.microsoft.com/devcontainers/python:1-3.12-bookworm",
    "containerEnv": {
        "UV_LINK_MODE": "copy",
        "PYTHONDONTWRITEBYTECODE": "1"
    },
    "features": {
        "ghcr.io/devcontainers/features/git:1": {},
        "ghcr.io/devcontainers/features/github-cli:1": {},
        "ghcr.io/devcontainers/features/terraform:1": {
            "version": "latest",
            "tflint": "latest"
        },
        "ghcr.io/dhoeric/features/terraform-docs:1": {},
        "ghcr.io/schlich/devcontainer-features/just:0": {}
    },
    "customizations": {
        "vscode": {
            "settings": {
                "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
                "python.terminal.activateEnvironment": true,
                "python.languageServer": "None",
                "editor.formatOnSave": true,
                "[markdown]": {
                    "editor.defaultFormatter": "DavidAnson.vscode-markdownlint",
                    "editor.wordWrap": "on"
                },
                "[toml]": {
                    "editor.defaultFormatter": "tamasfe.even-better-toml"
                }
            },
            "extensions": [
                "alexkaufman.indent-on-paste",
                "bierner.markdown-mermaid",
                "charliermarsh.ruff",
                "DavidAnson.vscode-markdownlint",
                "eamodio.gitlens",
                "EditorConfig.EditorConfig",
                "ms-pyright.pyright",
                "ms-python.python",
                "PKief.material-icon-theme",
                "redhat.vscode-yaml",
                "streetsidesoftware.code-spell-checker",
                "tamasfe.even-better-toml",
                "yzhang.markdown-all-in-one",
                "HashiCorp.terraform",
                "terra-incognita.terraform-tflint-vscode",
                "timonwong.shellcheck",
                "googlecloudtools.cloudcode"
            ]
        }
    },
    "postCreateCommand": "chmod +x .devcontainer/post-create.sh && bash .devcontainer/post-create.sh",
    "remoteUser": "vscode"
}
